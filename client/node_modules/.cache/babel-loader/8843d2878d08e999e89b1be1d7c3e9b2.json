{"ast":null,"code":"import e, { useRef as n, useState as t, useEffect as r } from \"react\";\nimport o from \"react-loading-skeleton\";\n\nfunction i(e, n) {\n  void 0 === n && (n = {});\n  var t = n.insertAt;\n\n  if (e && \"undefined\" != typeof document) {\n    var r = document.head || document.getElementsByTagName(\"head\")[0],\n        o = document.createElement(\"style\");\n    o.type = \"text/css\", \"top\" === t && r.firstChild ? r.insertBefore(o, r.firstChild) : r.appendChild(o), o.styleSheet ? o.styleSheet.cssText = e : o.appendChild(document.createTextNode(e));\n  }\n}\n\ni(\"/* common */\\n.Container {\\n  text-align: left;\\n  background-color: white;\\n  display: flex;\\n  flex-direction: column;\\n  border-radius: 7px;\\n  border: 1px solid #ccc;\\n  color: black;\\n  transition: 0.3s all ease;\\n  height: fit-content; }\\n  .Container:hover {\\n    background-color: #fafafa !important;\\n    cursor: pointer; }\\n\\n.Secondary {\\n  color: #646464; }\\n\\n.LowerContainer {\\n  padding: 10px; }\\n\\n.Title {\\n  margin-top: 0;\\n  margin-bottom: 10px; }\\n\\n.Image {\\n  width: 100%;\\n  border-top-left-radius: 7px;\\n  border-top-right-radius: 7px;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  height: 30vh; }\\n\\n.SiteDetails {\\n  margin-top: 10px; }\\n\\n/* sm */\\n@media (max-width: 640px) {\\n  .Description {\\n    display: none; } }\\n\\n/* md */\\n@media (min-width: 641px) and (max-width: 768px) {\\n  .Description {\\n    display: none; } }\\n\");\ni(\".skeleton-container {\\n  border-radius: 7px;\\n  border: 1px solid #eee; }\\n\\n.skeleton-lower-container {\\n  padding: 10px; }\\n\");\n\nvar a = function (n) {\n  var t = n.width,\n      r = void 0 === t ? \"100%\" : t,\n      i = n.imageHeight,\n      a = void 0 === i ? \"30vh\" : i,\n      l = n.margin;\n  return e.createElement(\"div\", {\n    className: \"skeleton-container\",\n    style: {\n      width: r,\n      margin: l\n    }\n  }, e.createElement(o, {\n    width: r,\n    height: a\n  }), e.createElement(\"div\", {\n    className: \"skeleton-lower-container\"\n  }, e.createElement(o, {\n    count: 3\n  })));\n},\n    l = \"https://i.imgur.com/UeDNBNQ.jpeg\";\n\nvar c = function (o) {\n  var i = o.url,\n      l = o.className,\n      c = void 0 === l ? \"\" : l,\n      d = o.width,\n      s = o.height,\n      m = o.descriptionLength,\n      u = o.borderRadius,\n      h = o.imageHeight,\n      p = o.textAlign,\n      g = o.margin,\n      f = o.fallback,\n      v = void 0 === f ? null : f,\n      b = o.backgroundColor,\n      x = void 0 === b ? \"white\" : b,\n      N = o.primaryTextColor,\n      w = void 0 === N ? \"black\" : N,\n      y = o.secondaryTextColor,\n      k = void 0 === y ? \"rgb(100, 100, 100)\" : y,\n      E = o.borderColor,\n      C = void 0 === E ? \"#ccc\" : E,\n      T = o.showLoader,\n      S = void 0 === T || T,\n      I = o.customLoader,\n      L = void 0 === I ? null : I,\n      D = o.openInNewTab,\n      R = void 0 === D || D,\n      B = o.fetcher,\n      U = o.fallbackImageSrc,\n      j = void 0 === U ? \"https://i.imgur.com/UeDNBNQ.jpeg\" : U,\n      A = o.explicitImageSrc,\n      H = void 0 === A ? null : A,\n      F = o.showPlaceholderIfNoImage,\n      Q = void 0 === F || F,\n      _ = n(!0),\n      z = t(),\n      P = z[0],\n      W = z[1],\n      q = t(!0),\n      G = q[0],\n      J = q[1];\n\n  if (r(function () {\n    return _.current = !0, J(!0), B ? B(i).then(function (e) {\n      _.current && (!function (e) {\n        return !!e && null !== e.title && null !== e.description && null !== e.image && null !== e.siteName && null !== e.hostname && void 0 !== e.title && void 0 !== e.description && void 0 !== e.image && void 0 !== e.siteName && void 0 !== e.hostname && \"null\" !== e.image && !e.image.startsWith(\"/\");\n      }(e) ? W(null) : W(e), J(!1));\n    }).catch(function (e) {\n      console.error(e), console.error(\"No metadata could be found for the given URL.\"), _.current && (W(null), J(!1));\n    }) : fetch(\"https://rlp-proxy.herokuapp.com/v2?url=\" + i).then(function (e) {\n      return e.json();\n    }).then(function (e) {\n      _.current && (W(e.metadata), J(!1));\n    }).catch(function (e) {\n      console.error(e), console.error(\"No metadata could be found for the given URL.\"), _.current && (W(null), J(!1));\n    }), function () {\n      _.current = !1;\n    };\n  }, [i, B]), G && S) return L ? e.createElement(e.Fragment, null, L) : e.createElement(a, {\n    width: d,\n    imageHeight: h,\n    margin: g\n  });\n  if (!P) return e.createElement(e.Fragment, null, v);\n  var K = P.image,\n      M = P.description,\n      O = P.title,\n      V = P.siteName,\n      X = P.hostname;\n  return e.createElement(\"div\", {\n    \"data-testid\": \"container\",\n    onClick: function () {\n      var e = R ? \"_blank\" : \"_self\";\n      window.open(i, e);\n    },\n    className: \"Container \" + c,\n    style: {\n      width: d,\n      height: s,\n      borderRadius: u,\n      textAlign: p,\n      margin: g,\n      backgroundColor: x,\n      borderColor: C\n    }\n  }, (K || j) && Q && e.createElement(\"div\", {\n    \"data-testid\": \"image-container\",\n    style: {\n      borderTopLeftRadius: u,\n      borderTopRightRadius: u,\n      backgroundImage: \"url(\" + (H || K || j) + \"), url(\" + j + \")\",\n      height: h\n    },\n    className: \"Image\"\n  }), e.createElement(\"div\", {\n    className: \"LowerContainer\"\n  }, e.createElement(\"h3\", {\n    \"data-testid\": \"title\",\n    className: \"Title\",\n    style: {\n      color: w\n    }\n  }, O), M && e.createElement(\"span\", {\n    \"data-testid\": \"desc\",\n    className: \"Description Secondary\",\n    style: {\n      color: k\n    }\n  }, m && M.length > m ? M.slice(0, m) + \"...\" : M), e.createElement(\"div\", {\n    className: \"Secondary SiteDetails\",\n    style: {\n      color: k\n    }\n  }, V && e.createElement(\"span\", null, V, \" • \"), e.createElement(\"span\", null, X))));\n};\n\nexport { c as LinkPreview, l as placeholderImg };","map":{"version":3,"mappings":"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","names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","Skeleton","_a","_b","width","t","_c","imageHeight","i","margin","React","className","LoadingSkeleton","height","count","placeholderImg","LinkPreview","url","l","descriptionLength","borderRadius","textAlign","fallback","f","_d","backgroundColor","b","_e","primaryTextColor","N","_f","secondaryTextColor","y","_g","borderColor","E","_h","showLoader","_j","customLoader","I","_k","openInNewTab","fetcher","_l","fallbackImageSrc","U","_m","explicitImageSrc","A","_o","showPlaceholderIfNoImage","_isMounted","useRef","_p","useState","metadata","setMetadata","_q","loading","setLoading","useEffect","current","then","res","title","description","image","siteName","hostname","undefined","startsWith","isValidResponse","catch","err","console","error","fetch","json","onClick","browserTarget","window","open","borderTopLeftRadius","borderTopRightRadius","backgroundImage","color","length","slice"],"sources":["/home/ever/Desktop/dev/webapps/inwork/client/node_modules/@dhaiwat10/node_modules/style-inject/dist/style-inject.es.js","/home/ever/Desktop/dev/webapps/inwork/client/node_modules/@dhaiwat10/src/components/LinkPreview/Skeleton.tsx","/home/ever/Desktop/dev/webapps/inwork/client/node_modules/@dhaiwat10/src/components/LinkPreview/LinkPreview.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport LoadingSkeleton from 'react-loading-skeleton';\n\nimport './skeleton.scss';\n\ninterface SkeletonProps {\n  width?: string | number;\n  imageHeight?: string | number;\n  margin?: string | number;\n}\n\nconst Skeleton: React.FC<SkeletonProps> = ({ width = '100%', imageHeight = '30vh', margin }) => {\n  return (\n    <div className='skeleton-container' style={{ width, margin }}>\n      <LoadingSkeleton width={width} height={imageHeight} />\n      <div className='skeleton-lower-container'>\n        <LoadingSkeleton count={3} />\n      </div>\n    </div>\n  );\n};\n\nexport default Skeleton;\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport './linkPreview.scss';\nimport Skeleton from './Skeleton';\n\nconst proxyLink = 'https://rlp-proxy.herokuapp.com/v2?url=';\nexport const placeholderImg = 'https://i.imgur.com/UeDNBNQ.jpeg';\n\nfunction isValidResponse(res: APIResponse | null): boolean {\n  if (!res) return false;\n\n  return (\n    res.title !== null &&\n    res.description !== null &&\n    res.image !== null &&\n    res.siteName !== null &&\n    res.hostname !== null &&\n    res.title !== undefined &&\n    res.description !== undefined &&\n    res.image !== undefined &&\n    res.siteName !== undefined &&\n    res.hostname !== undefined &&\n    res.image !== 'null' &&\n    !res.image.startsWith('/')\n  );\n}\n\nexport interface LinkPreviewProps {\n  url: string;\n  className?: string;\n  width?: string | number;\n  height?: string | number;\n  descriptionLength?: number;\n  borderRadius?: string | number;\n  imageHeight?: string | number;\n  textAlign?: 'left' | 'right' | 'center';\n  margin?: string | number;\n  fallback?: JSX.Element[] | JSX.Element | null;\n  backgroundColor?: string;\n  primaryTextColor?: string;\n  secondaryTextColor?: string;\n  borderColor?: string;\n  showLoader?: boolean;\n  customLoader?: JSX.Element[] | JSX.Element | null;\n  openInNewTab?: boolean;\n  fetcher?: (url: string) => Promise<APIResponse | null>;\n  fallbackImageSrc?: string;\n  explicitImageSrc?: string;\n  /* Whether the placeholder image is displayed in case no image could be scraped */\n  showPlaceholderIfNoImage?: boolean;\n}\n\nexport interface APIResponse {\n  title: string | null;\n  description: string | null;\n  image: string | null;\n  siteName: string | null;\n  hostname: string | null;\n}\n\nexport const LinkPreview: React.FC<LinkPreviewProps> = ({\n  url,\n  className = '',\n  width,\n  height,\n  descriptionLength,\n  borderRadius,\n  imageHeight,\n  textAlign,\n  margin,\n  fallback = null,\n  backgroundColor = 'white',\n  primaryTextColor = 'black',\n  secondaryTextColor = 'rgb(100, 100, 100)',\n  borderColor = '#ccc',\n  showLoader = true,\n  customLoader = null,\n  openInNewTab = true,\n  fetcher,\n  fallbackImageSrc = placeholderImg,\n  explicitImageSrc = null,\n  showPlaceholderIfNoImage = true,\n}) => {\n  const _isMounted = useRef(true);\n  const [metadata, setMetadata] = useState<APIResponse | null>();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    _isMounted.current = true;\n    setLoading(true);\n\n    if (fetcher) {\n      fetcher(url)\n        .then((res) => {\n          if (_isMounted.current) {\n            if (isValidResponse(res)) {\n              setMetadata(res);\n            } else {\n              setMetadata(null);\n            }\n            setLoading(false);\n          }\n        })\n        .catch((err: Error) => {\n          console.error(err);\n          console.error('No metadata could be found for the given URL.');\n          if (_isMounted.current) {\n            setMetadata(null);\n            setLoading(false);\n          }\n        });\n    } else {\n      fetch(proxyLink + url)\n        .then((res) => res.json())\n        .then((res) => {\n          if (_isMounted.current) {\n            setMetadata((res.metadata as unknown) as APIResponse);\n            setLoading(false);\n          }\n        })\n        .catch((err: Error) => {\n          console.error(err);\n          console.error('No metadata could be found for the given URL.');\n          if (_isMounted.current) {\n            setMetadata(null);\n            setLoading(false);\n          }\n        });\n    }\n\n    return () => {\n      _isMounted.current = false;\n    };\n  }, [url, fetcher]);\n\n  if (loading && showLoader) {\n    if (customLoader) {\n      return <>{customLoader}</>;\n    } else {\n      return <Skeleton width={width} imageHeight={imageHeight} margin={margin} />;\n    }\n  }\n\n  if (!metadata) {\n    return <>{fallback}</>;\n  }\n\n  const { image, description, title, siteName, hostname } = metadata;\n\n  const onClick = () => {\n    const browserTarget = openInNewTab ? '_blank' : '_self';\n    window.open(url, browserTarget);\n  };\n\n  return (\n    <div\n      data-testid='container'\n      onClick={onClick}\n      className={`Container ${className}`}\n      style={{ width, height, borderRadius, textAlign, margin, backgroundColor, borderColor }}\n    >\n      {(image || fallbackImageSrc) && showPlaceholderIfNoImage && (\n        <div\n          data-testid='image-container'\n          style={{\n            borderTopLeftRadius: borderRadius,\n            borderTopRightRadius: borderRadius,\n            backgroundImage: `url(${\n              explicitImageSrc || image || fallbackImageSrc\n            }), url(${fallbackImageSrc})`,\n            height: imageHeight,\n          }}\n          className='Image'\n        ></div>\n      )}\n\n      <div className='LowerContainer'>\n        <h3 data-testid='title' className='Title' style={{ color: primaryTextColor }}>\n          {title}\n        </h3>\n        {description && (\n          <span\n            data-testid='desc'\n            className='Description Secondary'\n            style={{ color: secondaryTextColor }}\n          >\n            {descriptionLength\n              ? description.length > descriptionLength\n                ? description.slice(0, descriptionLength) + '...'\n                : description\n              : description}\n          </span>\n        )}\n        <div className='Secondary SiteDetails' style={{ color: secondaryTextColor }}>\n          {siteName && <span>{siteName} • </span>}\n          <span>{hostname}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}